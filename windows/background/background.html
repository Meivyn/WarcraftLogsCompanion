<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Background page</title>
</head>
<body>
    <iframe id="parser" sandbox="allow-scripts" style="display:none"></iframe>
<script src="../../lib/require.js"></script>
<script>
  requirejs([
    'background-controller', 
    '../../scripts/3rdparty/jszip.min.js',
    '../../scripts/3rdparty/axios.min.js',
  ], function (BackgroundController, JSZip, axios) {
    console.log(`[INIT] main module loaded`);
    // todo -- this needs to be injected in a better way
    window.JSZip = JSZip      
    window.axios = axios
    BackgroundController.run(JSZip);
  }, function (error) {
    console.log(`[INIT] failed to load main module ${error}`);
  });
</script>
</body>
</html>